#  클래스와 인터페이스


### item15. 클래스와 멤버의 접근 권한을 최소화하라

어설프게 설계된 구조와 그렇지 않은 구조의 가장 큰 차이는 캡슐화가 얼마나 잘 되어 있는것인가 라고 이해할 수 있다.

정보 은닉의 장점은 다음과 같다.

* 시스템 개발 속도를 높인다. 여러 컴포넌트를 병렬로 개발할 수 있기 때문
* 시스템 관리 비용을 낮춘다. 각 컴포넌트를 빨리 파악하여 디버깅이 가능하다.
* 정보 은닉 자체가 성능을 높여주진 않지만 성능 최적화에 도움을 준다. 다른 컴포넌트에 영향을 주지 않고 해당 컴포넌트만 최적화가 가능하기 때문
* 소프트웨어 재사용성을 높인다.
* 큰 시스템을 제작하는 난이도를 낮춘다.

이러한 장점을 토대로 우리는 정보 은닉의 개념을 도입한다. 즉 캡슐화는 구조를 설계하는데 가장 기본이 되는 개념인 셈이다.

그렇다면 캡슐화를 어떻게 하면 좋을까?

기본 원칙은 **모든 클래스와 멤버의 접근성을 가능한 좁혀야 한다** 라는 것이다.

가능한 public을 사용하지 않고 외부에서 필요한 부분을 public으로 열어두며 **이 클래스에서는 절대 public 멤버 변수를 가지면 안된다.**

클래스의 private 멤버를 package-private까지 풀어주는 것은 허용할 수 있지만, 그 이상은 안된다. 즉, 테스트만을 위해 클래스, 인터페이스, 멤버를 공개 API로 만들어서는 안 된다.

자바 9에서는 모듈 시스템이라는 개념이 도입되면서 모듈 내부에서 클래스패스에 모듈을 두면 그 모듈 안의 모든 패키지는 모듈이 없는 것처럼 행동한다. 즉 모듈이 공개했는지 여부와 상관없이 public 클래스가 선언한 모든 public 혹은 protected 멤버를 밖에서도 접근할 수 있게 된다. 이러한 대표적인 예가 바로 JDK이다. 자바 라이브러리에서 공개하지 않은 패키지들은 해당 모듈 밖에서는 절대로 접근할 수 없다.

> 프로그램 요소의 접근성은 가능한 한 최소한으로 하라. 꼭 필요한 것만 골라 최소한의 public API를 설계하자. 그 외에는 클래스, 인터페이스, 멤버가 의도치 않게 API로 공개되는 일이 없도록 해야한다. public 클래스는 상수용 public static final 필드 외에는 어떠한 public 필드도 가져서는 안 된다. public static final 필드가 참조하는 객체가 불변인지 확인하라.